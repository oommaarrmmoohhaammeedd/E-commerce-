<section>
    <form [formGroup]="loginForm" (ngSubmit)="loginSubmit()">
        <div class="my-2">
            <label class="fw-bolder" for="email">Email:</label>
            <input [ngClass]="{'is-valid': !loginForm.get('email')?.errors && (loginForm.get('email')?.touched ||
            loginForm.get('email')?.dirty),
            'is-invalid':   loginForm.get('email')?.errors && (loginForm.get('email')?.touched ||
            loginForm.get('email')?.dirty)}" class="form-control" type="email" id="email" formControlName="email">
            @if (loginForm.get('email')?.errors && (loginForm.get('email')?.touched ||
            loginForm.get("email")?.dirty)) {
            <div class="alert alert-danger w-50">
                @if (loginForm.get('email')?.getError('required')) {
                <p>email is required !</p>
                }
                @else if (loginForm.get('email')?.getError('email')) {
                <p>Enter Valid Email</p>
                }
            </div>
            }
        </div>

        <div class="my-2">
            <label class="fw-bolder" for="password">Password:</label>
            <input [ngClass]="{'is-valid': !loginForm.get('password')?.errors && (loginForm.get('password')?.touched ||
            loginForm.get('password')?.dirty),
            'is-invalid':   loginForm.get('password')?.errors && (loginForm.get('password')?.touched ||
            loginForm.get('password')?.dirty)}" class="form-control" type="password" id="password"
                formControlName="password">
            @if (loginForm.get('password')?.errors && loginForm.get('password')?.touched){
            <div class="alert alert-danger w-50">
                @if (loginForm.get('password')?.getError('required')) {
                <p>password is required !</p>
                }
                @else if (loginForm.get('password')?.getError('pattern')) {
                <p>password must be at least 6 chars</p>
                }
            </div>
            }
        </div>
        <button [disabled]="loginForm.invalid || isLoading" type="submit" class=" btn-main w-100 mt-4 fw-bold">login
            Now
            @if (isLoading == true) {
            <span><i class="fas fa-spin fa-spinner"></i></span>
            }
        </button>
        <button routerLink="/forgot" class=" btn-main w-100 mt-4 fw-bold ">Forgot Password</button>
        @if (msgErr) {
        <p class="alert alert-danger w-50">{{msgErr}}</p>
        }
    </form>
</section>